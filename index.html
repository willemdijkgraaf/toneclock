<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Tone Clock</title>
		<meta name="description" content="Tone Clock sheet generator">
		<meta name="author" content="Wim Dijkgraaf">

        <link href="./flat-ui/bootstrap/css/bootstrap.css" rel="stylesheet">
        <link href="./css/custom-theme/jquery-ui-1.10.0.custom.css" rel="stylesheet">

        <link href="./css/toneclock.css" rel="stylesheet">

        <script type="text/javascript">
            window.appInsights = { queue: [], applicationInsightsId: null, accountId: null, appUserId: null, configUrl: null, start: function (n) { function u(n) { t[n] = function () { var i = arguments; t.queue.push(function () { t[n].apply(t, i) }) } } function f(n, t) { if (n) { var u = r.createElement(i); u.type = "text/javascript"; u.src = n; u.async = !0; u.onload = t; u.onerror = t; r.getElementsByTagName(i)[0].parentNode.appendChild(u) } else t() } var r = document, t = this, i; t.applicationInsightsId = n; u("logEvent"); u("logPageView"); i = "script"; f(t.configUrl, function () { f("//az416426.vo.msecnd.net/scripts/v/ai.0.7.js") }); t.start = function () { } } };
            appInsights.start("9a3fad08-7af8-4061-b9c7-642b5b6022ff");
            appInsights.logPageView();
        </script>

        <script type="text/javascript" src="./Scripts/easeljs.js"></script>
        <script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>

        <script type="text/javascript" src="./Scripts/jscolor/jscolor.js"></script>
        <script data-main="./main.js" src="./Scripts/require.js"></script>
        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-2794329-14', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
	</head>

<body>
    <header></header>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbarToneClock" id="buttonToneClockMenu">
                    Tone Clock<span class="caret"></span>
                </button>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbarToneClock">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a id="menuToneClock" href="#" class="dropdown-toggle" data-toggle="dropdown">Tone Clock<b class="caret"></b></a>

                        <ul class="dropdown-menu" role="menu" aria-labelledby="buttonToneClockMenu">
                            <li role="presentation"><a id="menuSheetEmptyA44x5" role="menuitem" tabindex="-1" href="#">New sheet</a></li>

                            <li role="presentation"><a id="menuOpen" role="menuitem" tabindex="-1" href="#">Open sheet from file ...</a></li>
                            <li role="presentation"><a id="menuSave" role="menuitem" tabindex="-1" href="#">Save sheet to file</a></li>

                            <li role="presentation" class="divider"></li>
                            <li role="presentation"><a id="menuPreferences" role="menuitem" tabindex="-1" href="#">Preferences</a></li>
                            <li role="presentation"><a id="menuPrint" role="menuitem" tabindex="-1" href="#">Print</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a id="menuSheets" href="#" class="dropdown-toggle" data-toggle="dropdown">Sheets<b class="caret"></b></a>
                        <ul id="menuToneClockSheets" class="dropdown-menu" role="menu" aria-labelledby="buttonToneClockSheets">
                            <li role="presentation"><a id="menuPeterSchat" role="menuitem" tabindex="-1" href="#">Peter Schat's Tone Clock</a></li>
                            <li role="presentation"><a id="menuSheetMessiaen" role="menuitem" tabindex="-1" href="#">Messiaen Modes</a></li>
                            <li role="presentation" class="divider"></li>
                            <li role="presentation"><a id="menuSheetIntervals" role="menuitem" tabindex="-1" href="#">Intervals</a></li>
                            <li role="presentation"><a id="menuSheetTrichords" role="menuitem" tabindex="-1" href="#">Trichords</a></li>
                            <li role="presentation"><a id="menuSheetTetrachords" role="menuitem" tabindex="-1" href="#">Tetrachords</a></li>
                            <li role="presentation"><a id="menuSheetPentachords" role="menuitem" tabindex="-1" href="#">Pentachords</a></li>
                            <li role="presentation"><a id="menuSheetHexachords" role="menuitem" tabindex="-1" href="#">Hexachords</a></li>
                            <li role="presentation"><a id="menuSheetHeptachords" role="menuitem" tabindex="-1" href="#">Heptachords</a></li>
                            <li role="presentation"><a id="menuSheetOctachords" role="menuitem" tabindex="-1" href="#">Octachords</a></li>
                            <li role="presentation" class="divider"></li>
                            <li role="presentation"><a id="menu4BasicTriads" role="menuitem" tabindex="-1" href="#">4 Basic triads</a></li>
                            <li role="presentation"><a id="menu5Basic7thChords" role="menuitem" tabindex="-1" href="#">5 Basic seventh chords</a></li>
                            <li role="presentation"><a id="menuMajorTriadsOverMinorHarmony" role="menuitem" tabindex="-1" href="#">Major triads over minor harmony</a></li>
                            <li role="presentation"><a id="menuMajorModes" role="menuitem" tabindex="-1" href="#">Modes of the major scale</a></li>
                            <li role="presentation"><a id="menuMelodicMinorModes" role="menuitem" tabindex="-1" href="#">Modes of the melodic minor scale</a></li>
                            <li role="presentation"><a id="menuSheetV7" role="menuitem" tabindex="-1" href="#">V7 - x perspectives</a></li>
                            <li role="presentation"><a id="menuDiminishedScale" role="menuitem" tabindex="-1" href="#">Diminished scale perspectives</a></li>

                        </ul>
                    </li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Help<b class="caret"></b></a>

                        <ul class="dropdown-menu" role="menu" aria-labelledby="buttonHelpMenu">
                            <li role="presentation"><a id="menuHelpIntroduction" role="menuitem" tabindex="-1" href="#">Introduction</a></li>
                            <li role="presentation" class="divider"></li>
                            <li role="presentation"><a id="menuAbout" role="menuitem" tabindex="-1" href="#">About Tone Clock</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a id="menuTestSheets" style="visibility: hidden" href="#" class="dropdown-toggle" data-toggle="dropdown">Test Sheets<b class="caret"></b></a>
                        <ul id="menuToneClockTestSheets" class="dropdown-menu" role="menu" aria-labelledby="buttonToneClockSheets">
                            <li role="presentation"><a id="menuTestBasis1" role="menuitem" tabindex="-1" href="#">Test Basis 1</a></li>
                        </ul>
                    </li>

                </ul>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-body">
                <input id="sheetName" type="text" value="" style="width:300px; font-size:18px;font-weight:400">
                <label for=defaultColorPicker>Default: </label>
                <input class="color {pickerClosable:true}" id="defaultColorPicker">
            </div>
        </div>
    </nav>

    <div id="preferencesPopup" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content" style="opacity:0.75;">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h1 class="modal-title">Tone Clock Preferences</h1>
                    </div>

                    <div class="modal-body">

                        <ul class="nav nav-tabs">
                            <li id="tabNotes" class="active">
                                <a href="#tabPaneNotes" data-toggle="tab"><span>Notes</span></a>
                            </li>
                            <li id="tabSets">
                                <a href="#tabPaneSets" data-toggle="tab"><span>Sets</span></a>
                            </li>
                            <li id="tabSizes">
                                <a href="#tabPaneSizes" data-toggle="tab"><span>Sizes</span></a>
                            </li>
                            <li id="tabCanvas">
                                <a href="#tabPaneCanvas" data-toggle="tab"><span>Sheet</span></a>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane active" id="tabPaneNotes">
                                <div class="input-group">
                                    <label class="toneclockLabel">Rotation:</label>
                                    <div class="ui-slider" id="sliderNoteNameRotation" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                                    <label>Transposition:</label>
                                    <div class="ui-slider" id="sliderSheetTransposition" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                                </div>
                             
                                <div class="input-group">
                                    <div class="toneclockContextMenuItem" id="contextRadioToneLayout">
                                        <label class="toneclockLabel">Interval:</label>
                                        <div class="btn-group" data-toggle="buttons">
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioFourths" name="contextRadioToneLayout" data-toggle="radio" checked="checked">4ths</label>
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioSeconds" name="contextRadioToneLayout" data-toggle="radio">2nds</label>
                                        </div>
                                    </div>
                                </div>
                              
                                <div class="input-group">
                                    <div class="toneclockContextMenuItem" id="contextRadioToneDirection">
                                        <label class="toneclockLabel">Layout:</label>
                                        <div class="btn-group" data-toggle="buttons">
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioClockwise" name="contextRadioToneDirection" data-toggle="radio" checked="checked">clockwise</label>
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioAntClockwise" name="contextRadioToneDirection" data-toggle="radio">anti-clockwise</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="input-group">
                                    <div class="toneclockContextMenuItem" id="contextRadioNamingSystem">
                                        <label class="toneclockLabel">Naming system:</label>
                                        <div class="btn-group btn-group-vertical" data-toggle="buttons">
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioAlphabet" name="contextRadioNamingSystem" checked="checked">alphabet</label>
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioDoReMi" name="contextRadioNamingSystem">do re mi</label>
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioPitchClass" name="contextRadioNamingSystem">pitch classes</label>
                                            <!-- <label class="btn btn-primary"><input type="radio" id="contextRadioHarmonicaClass" name="contextRadioNamingSystem">chromatic harmonica (standard layout)</label>
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioHarmonicaDimi" name="contextRadioNamingSystem">chromatic harmonica (dimi layout)</label> -->
                                        </div>
                                    </div>
                                </div>
                            
                                <div class="input-group">
                                    <div class="toneclockContextMenuItem" id="contextRadioToneFlatSharp">
                                        <label class="toneclockLabel">Accidentals:</label>
                                        <div class="btn-group" data-toggle="buttons">
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioFlat" name="contextRadioFlatSharp" data-toggle="radio" checked="checked">b</label>
                                            <label class="btn btn-primary"><input type="radio" id="contextRadioSharp" name="contextRadioFlatSharp" data-toggle="radio">#</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="tabPaneSets">
                                <div class="input-group">
                                    <div id="chkboxDisplaySetNames">
                                        <label class="toneclockLabel">Display set names:</label>
                                        <div class="btn-group btn-group-vertical" data-toggle="buttons">
                                            <label class="btn btn-primary"><input type="checkbox" id="chkPrimeForm" name="chkDisplayPrimeForm" data-toggle="checkbox">Prime Form</label>
                                            <label class="btn btn-primary"><input type="checkbox" id="chkForteCode" name="chkDisplayForteCode" data-toggle="checkbox">Forte Code</label>
                                            <label class="btn btn-primary"><input type="checkbox" id="chkIntervalVector" name="chkDisplayIntervalVector" data-toggle="checkbox">Interval Vector</label>
                                            <label class="btn btn-primary"><input type="checkbox" id="chkPrimeInversion" name="chkDisplayPrimeInversion" data-toggle="checkbox">Prime Inversion</label>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="tabPaneSizes">
                                <p>Clock size:</p>
                                <div class="ui-slider" id="sliderSizeClock" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                                <p>Clock margin:</p>
                                <div class="ui-slider" id="sliderNoteNameMargin" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                                <p>Hour size:</p>
                                <div class="ui-slider" id="sliderSizeHour" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                                <p>Font size:</p>
                                <div class="ui-slider" id="sliderSizeFont" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                            </div>

                            <div class="tab-pane" id="tabPaneCanvas">
                                <p># Clocks horizontal:</p>
                                <div class="ui-slider" id="sliderClocksHorizontal" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                                <p># Clocks vertical:</p>
                                <div class="ui-slider" id="sliderClocksVertical" data-toggle="tooltip" data-placement="top" title="" data-original-title="" style="width: 200px"></div>
                            </div>
                        </div>
                    </div><!-- /.modal-body -->

                    <div class="modal-footer">
                        <button id="buttonPreferencesOk" type="button" class="btn btn-default" data-dismiss="modal">OK</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

    <div id="aboutPopup" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h1 class="modal-title">About Tone Clock</h1>
                    </div>

                    <div class="modal-body">
                        <p>Version: <data id="toneClockVersion"></data></p>
                        <p>The aim of this application is to give the contemporary composer/improviser an easy to use tool to create tone clock sheets.</p>
                        <p>Besides the many examples, an empty tone clock sheet can be used draw your own harmonies, save your sheet and load your sheet at another time.</p>
                        <p>Feel free to experiment with the preferences (menu "Tone Clock" -> preferences) in order to create a sheet that suites your needs and requirements and to display the name/pitch class code of your harmony.</p>
                        <p>Drag a harmony up/down in order to transpose it. Also, check out right click on an hour to find several options like toggling the root note and changing the note naming system of your sheet.</p>
                        <p>Any suggestions? You can reach me at <strong>info(at)wimdijkgraaf(dot)com</strong>.</p>
                        <p>Kind regards, Wim Dijkgraaf</p>
                    </div><!-- /.modal-body -->

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

    <div id="introductionPopup" class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button id="introductionPopupClose" type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h1 class="modal-title">Introduction</h1>
                    </div>
                    <div id="player" visibility="hidden"></div>
                        <!-- <iframe id="introductionYoutubePlayer" width="600" height="400" src="http://www.youtube.com/embed/NARPaH83dDc" frameborder="0" allowfullscreen></!--iframe>-->
                       
                    <div>
                        <ul>
                            <li><a id="intro1" href="javascript:player.seekTo(000,true)">0:00</a> Introduction</li>
                            <li><a id="intro2" href="javascript:player.seekTo(038,true)">0:38</a> The preconfigured sheet</li>
                            <li><a id="intro3" href="javascript:player.seekTo(068,true)">1:08</a> An empty sheet</li>
                            <li><a id="intro4" href="javascript:player.seekTo(085,true)">1:25</a> Draw a harmony/scale</li>
                            <li><a id="intro5" href="javascript:player.seekTo(108,true)">1:48</a> Configure the root note</li>
                            <li><a id="intro6" href="javascript:player.seekTo(140,true)">2:20</a> Transpose a harmony/scale</li>
                            <li><a id="intro7" href="javascript:player.seekTo(193,true)">2:53</a> Color the hamony/scale</li>
                            <li><a id="intro8" href="javascript:player.seekTo(220,true)">3:40</a> Add multiple harmonies/scales to a clock</li>
                            <li><a id="intro9" href="javascript:player.seekTo(244,true)">4:04</a> Delete a harmony/scale from a clock</li>
                            <li><a id="intro10" href="javascript:player.seekTo(255,true)">4:15</a> Change the order of harmonies/scales</li>
                            <li><a id="intro11" href="javascript:player.seekTo(263,true)">4:23</a> Transpose a specific harmony/scale</li>
                            <li><a id="intro12" href="javascript:player.seekTo(285,true)">4:45</a> Change the size of the hours</li>
                            <li><a id="intro13" href="javascript:player.seekTo(312,true)">5:12</a> Change the size of the clocks</li>
                            <li><a id="intro14" href="javascript:player.seekTo(320,true)">5:20</a> Change the size of the note names</li>
                            <li><a id="intro15" href="javascript:player.seekTo(343,true)">5:43</a> Change the number of clocks on a sheet</li>
                            <li><a id="intro16" href="javascript:player.seekTo(360,true)">6:00</a> Changing the note name order (2nds/4ths/5ths)</li>
                            <li><a id="intro17" href="javascript:player.seekTo(402,true)">6:42</a> Changing the note name system (Do Re Mi, Pitch Classes, ...)</li>
                            <li><a id="intro18" href="javascript:player.seekTo(422,true)">7:02</a> Working with flats or sharps</li>
                            <li><a id="intro19" href="javascript:player.seekTo(436,true)">7:16</a> Display names (Pitch Class Set, Interval Vector, ...)</li>
                            <li><a id="intro20" href="javascript:player.seekTo(468,true)">7:48</a> The sheet library</li>
                            <li><a id="intro21" href="javascript:player.seekTo(490,true)">8:10</a> How to contact me</li>
                            <li><a id="intro22" href="javascript:player.seekTo(504,true)">8:24</a> Save/load your own sheets</li>
                        </ul>
                       
                    </div>
                    <div class="modal-body">
                        
                    </div><!-- /.modal-body -->

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->


        <!--- HOUR DropDown Menu -->
        <ul id="hourContextMenu" class="dropdown-menu" role="menu" style="display:none">
            <li><a id="toggleRoot" tabindex="-1" href="#">Toggle root</a></li>
        </ul>
        <!--- END HOUR DropDown Menu -->

        <!--- HARMONY DropDown Menu -->
        <ul id="harmonyContextMenu" class="dropdown-menu" role="menu" style="display:none">
            <li>
                <label for=harmonyColorPicker>Color: </label>
                <input class="color {pickerClosable:true}" id="harmonyColorPicker" style="float: right; height:25px;">
            </li>
            <li role="presentation" class="divider"></li>
            <li><label for=showPrimeForm>PF: </label><input id="showPrimeForm" value="prime form" disabled style="float: right; height:25px;"/></li>
            <li><label for=showPrimeInversion>PI: </label><input id="showPrimeInversion" value="prime inversion" disabled style="float: right; height:25px;"/></li>
            <li><label for=showForteCode>FC: </label><input id="showForteCode" value="forte code" disabled style="float: right; height:25px;"/></li>
            <li><label for=showIntervalVector>IV: </label><input id="showIntervalVector" value="interval vector" disabled style="float: right; height:25px;"/></li>
            <li role="presentation" class="divider"></li>
            <li><a id="addHarmony" tabindex="-1" href="#">Add</a></li>
            <li><a id="deleteHarmony" tabindex="-1" href="#">Delete</a></li>
            <li><a id="bringHarmonyToFront" tabindex="-1" href="#">Bring to front</a></li>
            <li><a id="bringHarmonyForward" tabindex="-1" href="#">Bring forward</a></li>
            <li><a id="sendHarmonyBackward" tabindex="-1" href="#">Send backward</a></li>
            <li><a id="sendHarmonyToBack" tabindex="-1" href="#">Send to back</a></li>
        </ul>
        <!--- END HOUR DropDown Menu -->

    <div id="toneClockArea" visibility="hidden"></div>
    
    <input type="file" id="loadFile" name="file" style="display:none" />
    <script>
    var player;
    function onYouTubeIframeAPIReady() {
        document.getElementById('player').setAttribute('visibility', 'visible');
        player = new YT.Player('player', {
            height: '400',
            width: '600',
            videoId: 'NARPaH83dDc',
            events: {
                'onReady': onPlayerReady
            }

        });
    }

    // The API will call this function when the video player is ready.
    function onPlayerReady(event) {
        // event.target.playVideo();
    }
    </script>

    <script>
        if (window._phantom) {
            // Patch since PhantomJS does not implement click() on HTMLElement. In some 
            // cases we need to execute the native click on an element. However, jQuery's 
            // $.fn.click() does not dispatch to the native function on <a> elements, so we
            // can't use it in our implementations: $el[0].click() to correctly dispatch.
            if (!HTMLElement.prototype.click) {
                HTMLElement.prototype.click = function () {
                    var ev = document.createEvent('MouseEvent');
                    ev.initMouseEvent(
                        'click',
                        /*bubble*/true, /*cancelable*/true,
                        window, null,
                        0, 0, 0, 0, /*coordinates*/
                        false, false, false, false, /*modifier keys*/
                        0/*button=left*/, null
                    );
                    this.dispatchEvent(ev);
                };
            }
        }
    </script>

</body>
</html>
